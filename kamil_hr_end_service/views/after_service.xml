<odoo>
	<data>
	<record model="ir.ui.view" id="after_service_view">
      <field name="name">After Service Form</field>
      <field name="model">after.service</field>
      <field name="arch" type="xml">
      <form>

        <header>
              <button name="do_submit" string="Send" type="object" class="btn btn-primary" states="draft"/>
              <button name="do_confirm" string="Submit" type="object" class="btn btn-primary" states="benefits_wages"/>
              <button name="do_personnel_confirm" string="Confirm" type="object" class="btn btn-primary" states="personnel"/>
              <button name="do_gd_confirm" string="Confirm" type="object" class="btn btn-primary" states="general_directorate"/>
              <button name="do_ia_confirm" string="Approve" type="object" class="btn btn-primary" states="internal_auditor"/>
              <button name="do_return" string="Return" type="object" states="benefits_wages,personnel,general_directorate,internal_auditor"/>
              <field name="state" widget="statusbar"/>
        </header>
        
        
        <sheet>

          <group col= "4" >
            <field name="employee_id" options="{'no_create':True,'no_edit':True,'no_open':True}" attrs="{'readonly':[('state','!=','draft')]}" required="True"/>
            <field name="employee_no"/>
            <field name= "department_id" options="{'no_create':True,'no_edit':True,'no_open':True}" />
            <field name="degree_id" options="{'no_create':True,'no_edit':True,'no_open':True}" />

            <field name="job_id" options="{'no_create':True,'no_edit':True,'no_open':True}" />
            <field name="date" attrs="{'readonly':[('state','!=','draft')]}"  required="True"/>
        </group>

        <group string="Cash Alternative">
          <group>
            <field name= "cash_alternative" attrs="{'readonly':[('state','!=','draft')]}"/>
            <field name = "amount" attrs="{'invisible':[('cash_alternative','!=','fixed')],'required':[('cash_alternative','=','fixed')],'readonly':[('state','!=','draft')]}"/>
            <field name="salary_rule"  options="{'no_create':True,'no_edit':True,'no_open':True}" attrs="{'invisible':[('cash_alternative','!=','salary')],'required':[('cash_alternative','=','salary')],'readonly':[('state','!=','draft')]}" force_save="1"/>
            <field name="salary_amount" attrs="{'invisible':[('cash_alternative','!=','salary')],'required':[('cash_alternative','=','salary')]}"  force_save="1"/>
          <field name="number_months" attrs="{'invisible':[('cash_alternative','!=','salary')],'required':[('cash_alternative','=','salary')],'readonly':[('state','!=','draft')]}"/>

          	<field name="merit_cash_alternative" attrs="{'required':[('cash_alternative','=','fixed')]}"/>
          </group>
        </group>
        <group string="Baggage Relay">
          <group>
            <field name= "baggage_relay" attrs="{'readonly':[('state','!=','draft')]}"/>
            <field name="amount2" attrs="{'invisible':[('baggage_relay','!=','fixed')],'required':[('baggage_relay','=','fixed')],'readonly':[('state','!=','draft')]}" />
            <field name="salary_rule2"  options="{'no_create':True,'no_edit':True,'no_open':True}" attrs="{'invisible':[('baggage_relay','!=','salary')],'required':[('baggage_relay','=','salary')],'readonly':[('state','!=','draft')]}"/>
            <field name="salary_amount2" attrs="{'invisible':[('baggage_relay','!=','salary')],'required':[('baggage_relay','=','salary')]}"  force_save="1"/>
            <field name="number_months2" attrs="{'invisible':[('baggage_relay','!=','salary')],'required':[('baggage_relay','=','salary')],'readonly':[('state','!=','draft')]}"/>
          	<field name="merit_baggage_relay" attrs="{'required':[('baggage_relay','=','fixed')]}"/>
          </group>
        </group>
        <group string="End of service benefits">
          <group>
            <field name="end_service_rewards"/>
          </group>
        </group>

        <group>
          <group>
            <field name="total_amount"/>
          </group>
        </group>
        <notebook>
          <page string="Notes">
            <div>
              <field name="notes"/>
            </div>
          </page>
        </notebook>
        </sheet>
        <div class="oe_chatter">
            <field name="message_follower_ids" widget="mail_followers"/>
            <field name="activity_ids" widget="mail_activity"/>
            <field name="message_ids" widget="mail_thread"/>
        </div> 
      </form>
    </field>
  </record>

    <record model="ir.ui.view" id="after_service_tree_view">
      <field name="name">after.service.tree</field>
      <field name="model">after.service</field>
      <field name="arch" type="xml">
       <tree>
        <field name="employee_no"/>
        <field name="employee_id"/>
        <field name="job_id"/>
        <field name="date"/>           
        <field name= "total_amount"/>
        <field name="state"/>
      </tree>
     </field>
    </record>

  <record id="action_after_service" model="ir.actions.act_window">
    <field name="name">After Service Benefitss</field>
    <field name="res_model">after.service</field>
    <field name="view_mode">tree,form</field>
  </record>

  <menuitem 
    name="After Service Benefits" 
    id="after_service_menu"
    parent="kamil_hr_end_service.main_menu_jobs"
    action="action_after_service" sequence="3"/>

	</data>
</odoo>