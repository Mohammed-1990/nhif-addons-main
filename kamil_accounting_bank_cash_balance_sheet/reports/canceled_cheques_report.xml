<?xml version="1.0" encoding="utf-8" ?>
<odoo>


	<report 
		id="canceled_cheques_report"
		model="bank.cash.balance.sheet"
		string="الشيكات الملغية"
		report_type="qweb-html"
		name="kamil_accounting_bank_cash_balance_sheet.canceled_cheques_template"
	/>

	<template id="canceled_cheques_template">
		<t t-call="web.html_container">
			<t t-foreach="docs" t-as="o">
				<t t-call="web.external_layout">
					<div class="page">

			                
						<div dir="rtl" style="float:right;text-align:start;">
							<a href="#" target="_blank">
								<svg width="2em" height="2em" viewBox="0 0 16 16" class="bi bi-printer" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
									<path d="M11 2H5a1 1 0 0 0-1 1v2H3V3a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2h-1V3a1 1 0 0 0-1-1zm3 4H2a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h1v1H2a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1z"/>
									<path fill-rule="evenodd" d="M11 9H5a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1zM5 8a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H5z"/>
									<path d="M3 7.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"/>
								</svg>
							</a>
						</div>
		                
		                <br/><br/>
						<div class="text-center">
							<br/>
							<br/>
							<strong class="text-center">
								الشيكات الملغية
								 عن شهر  <t t-esc="o.month"/> - <t t-esc="o.year"/>
							</strong>
							<br/>
							<br/>
						</div>

						<table dir="rtl" border="1" class="text-right  table-bordered" style="float:right;text-align:start;">
                            <thead>
                                <tr style="page-break-inside: avoid;" class="table-active">
                                    
                                    <td class="text-center fit" style="font:300; white-space: nowrap;width: 1%; padding:5px;">
                              			<div style="float:right;text-align:start;">
                                        م.
                                    	</div>
                                    </td>


                                    <td class="text-center fit" style="font:300; white-space: nowrap;width: 1%; padding:5px;">
                              			<div style="float:right;text-align:start;">
                                        التاريخ
                                    	</div>
                                    </td>


                                    <td class="text-center fit" style="font:300; white-space: nowrap;width: 1%; padding:5px;">
                              			<div style="float:right;text-align:start;">
                                        الجهة
                                    	</div>
                                    </td>


                                    <td class="text-center fit" style="font:300; white-space: nowrap;width: 1%; padding:5px;">
                              			<div style="float:right;text-align:start;">
                                        رقم المستند
                                    	</div>
                                    </td>


                                    <td class="text-center fit" style="font:300; white-space: nowrap;width: 1%; padding:5px;">
                              			<div style="float:right;text-align:start;">
                                        المبلغ
                                    	</div>
                                    </td>

                                    <td class="text-center fit" style="font:300; white-space: nowrap;width: 1%; padding:5px;">
                              			<div style="float:right;text-align:start;">
                                        البيان
                                    	</div>
                                    </td>

                                </tr>
                            </thead>

                            <tbody>
	                            <t t-set="count" t-value="1"/>
	                            <t t-set="total" t-value="0"/>

                                <t t-foreach="docs.move_ids" t-as="line">
                                	
                                	<t t-if="line.move_line_id.is_canceled_move == True">
	                                    <tr style="page-break-inside: avoid;">
	                                        <td style="font:300; white-space: nowrap;width: 1%; padding:5px;">
	                                        	<div style="float:right;text-align:start;">
	                                            <t class="text-center fit" t-esc="count"/>
	                                            <t t-set="count" t-value="count + 1"/>
	                                        	</div>
	                                        </td>


	                                        <td style="font:300; white-space: nowrap;width: 1%; padding:5px;">
	                                        	<div style="float:right;text-align:start;">
	                                            <t class="text-center fit" t-esc="line.date"/>
	                                        	</div>
	                                        </td>


	                                        <td style="font:300; white-space: nowrap;width: 1%; padding:5px;">
	                                        	<div style="float:right;text-align:start;">
	                                            <t class="text-center fit" t-esc="line.partner_id.name"/>
	                                        	</div>
	                                        </td>


	                                        <td style="font:300; white-space: nowrap;width: 1%; padding:5px;">
	                                        	<div style="float:right;text-align:start;">
	                                            <t class="text-center fit" t-esc="line.document_number"/>
	                                        	</div>
	                                        </td>


	                                        <td style="font:300; white-space: nowrap;width: 1%; padding:5px;">
	                                        	<div style="float:right;text-align:start;">
	                                            <t class="text-center fit" t-esc="'{0:,.2f}'.format(float( line.debit + line.credit ))"/>
	                                        	</div>
	                                        	<t t-set="total" t-value="total + (line.debit + line.credit) "/>
	                                        </td>


	                                        <td>
	                                        	<div style="float:right;text-align:start;">
	                                            <t class="text-center fit" t-esc="line.name"/>
	                                        	</div>
	                                        </td>
	                                    </tr>
	                                </t>
                                </t>




                                <t t-foreach="docs.previous_move_ids" t-as="line">
                                	
                                	<t t-if="line.move_line_id.is_canceled_move == True">
	                                    <tr style="page-break-inside: avoid;">
	                                        <td style="font:300; white-space: nowrap;width: 1%; padding:5px;">
	                                        	<div style="float:right;text-align:start;">
	                                            <t class="text-center fit" t-esc="count"/>
	                                            <t t-set="count" t-value="count + 1"/>
	                                        	</div>
	                                        </td>


	                                        <td style="font:300; white-space: nowrap;width: 1%; padding:5px;">
	                                        	<div style="float:right;text-align:start;">
	                                            <t class="text-center fit" t-esc="line.date"/>
	                                        	</div>
	                                        </td>


	                                        <td style="font:300; white-space: nowrap;width: 1%; padding:5px;">
	                                        	<div style="float:right;text-align:start;">
	                                            <t class="text-center fit" t-esc="line.partner_id.name"/>
	                                        	</div>
	                                        </td>


	                                        <td style="font:300; white-space: nowrap;width: 1%; padding:5px;">
	                                        	<div style="float:right;text-align:start;">
	                                            <t class="text-center fit" t-esc="line.document_number"/>
	                                        	</div>
	                                        </td>


	                                        <td style="font:300; white-space: nowrap;width: 1%; padding:5px;">
	                                        	<div style="float:right;text-align:start;">
	                                            <t class="text-center fit" t-esc="'{0:,.2f}'.format(float( line.debit + line.credit ))"/>
	                                        	</div>

	                                        	<t t-set="total" t-value="total + (line.debit + line.credit) "/>
	                                        </td>


	                                        <td>
	                                        	<div style="float:right;text-align:start;">
	                                            <t class="text-center fit" t-esc="line.name"/>
	                                        	</div>
	                                        </td>
	                                    </tr>
	                                </t>
                                </t>



                                <tr style="page-break-inside: avoid;" class="table-active">
                                	<td class="text-center fit" colspan="4">
                                		<strong>
                                			الجملة
                                		</strong>
                                	</td>

                                	<td class="fit" colspan="4">
                                		<div style="float:right;text-align:start;">
	                                		<strong>
	                                			<t class="text-center fit" t-esc="'{0:,.2f}'.format(float( total ) )"/>
                                			</strong>
                                		</div>
                                	</td>


                                </tr>

                            </tbody>
                        </table>



					</div>
				</t>
			</t>
		</t>
	</template>
</odoo>