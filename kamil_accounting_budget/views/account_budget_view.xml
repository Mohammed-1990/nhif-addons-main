<odoo>
	<data>
			
		<record id="budgetary_position_inherit_view" model="ir.ui.view">
			<field name="name">Budgetary Position Form</field>
			<field name="model">account.budget.post</field>
			<field name="inherit_id" ref="account_budget.view_budget_post_form"/>
			<field name="arch" type="xml">
				
				<field name="name" position="replace">
					<field name="analytic_account_id" required="1"/>	
				</field>

				<notebook position="before">
					<field name="name" invisible="1"/>
					<group>
						<label for="date_from" string="Period"/>
							<div>
								<field name="date_from" class="oe_inline" required="1"/>
								-
								<field name="date_to" class="oe_inline"  nolabel="1" required="1"/>
							</div>
					</group>
	
				</notebook>

				<page position="attributes">
					<attribute name="invisible">1</attribute>
				</page>

			<notebook position="inside">
					<page name="accounts" string="Accounts">
						<field name="accounts_value_ids">
							<tree editable="bottom" create="false">
								<field name="account_id" required="1" no_create="{'no_create':True}"/>
								<field name="planned_value" required="1" sum="planned_value" string="Estimated Expense/Estimated Revenue"/>
								<field name="addition_value" sum="addition_value" readonly="1"/>
								<field name="withdraw_value" sum="withdraw_value" readonly="1" />
								<field name="approved_value" sum="approved_value" readonly="1"/>
								<field name="reserved_value" sum="reserved_value" readonly="1"/>
								<field name="practical_value" sum="Practical" readonly="1" string="Actual Expense/Actual Revenue"/>
								<field name="remaining_value" sum="remaining_value" readonly="1" string="Remaining Amount/Deviation"/>
							</tree>
						</field>
					</page>
				</notebook>

			</field>
		</record>


		<record id="analytic_account_inherit_view" model="ir.ui.view">
			<field name="name">Analytic Account Form</field>
			<field name="model">account.analytic.account</field>
			<field name="inherit_id" ref="account_budget.view_account_analytic_account_form_inherit_budget"/>
			<field name="arch" type="xml">
				<notebook position="inside">
					<page string="Accounts">
						<field name="account_ids">
							<tree>
								<field name="code"/>
								<field name="name"/>
								<field name="user_type_id"/>
							</tree>
						</field> 
					</page>
				</notebook>
			</field>
		</record>
	
		<record id="budget_inherit_view" model="ir.ui.view">
			<field name="name">Budget Form</field>
			<field name="model">crossovered.budget</field>
			<field name="inherit_id" ref="account_budget.crossovered_budget_view_form"/>
			<field name="arch" type="xml">



				<field name="company_id" position="attributes">
					<field name="string">Branch/Center</field>				
				</field>

				<button name="action_budget_draft" position="replace">
					<button string="Reset to Draft" name="action_budget_draft" states="cancel,done" type="object"/>
				</button>

				<header position="inside">
					<field name="is_started" invisible="1"/>
					<button attrs="{'invisible':['|',('state','!=','draft'),('is_started','=',True)]}" name="do_start" type="object" string="Start" />
				</header>




<!-- 
				<xpath expr="//notebook/page[1]/field/tree" position="replace">
					<tree string="Budget Lines" decoration-success="is_above_budget and planned_amount &gt; 0" decoration-danger="is_above_budget and planned_amount &lt; 0" editable="bottom">
						<field name="general_budget_id" string="Budget Item Details" required="1"/>
						<field name="analytic_account_id" string="Budget Item" required="1"/>
						<field name="date_from"/>
						<field name="date_to"/>
						<field name="currency_id" invisible="1"/>
						<field name="planned_amount" sum="Planned Amount"/>
						<field name="addition_value" sum="Addition" readonly="1"/>
						<field name="withdraw_value" sum="Withdraw" readonly="1"/>
						<field name="approved_value" sum="Approved" readonly="1"/>
						<field name="reserved_value" sum="Reserved" readonly="1"/>
						<field name="practical_amount" sum="Practical Amount" readonly="1"/>
						<field name="remaining_value" sum="Remaining" readonly="1"/>
						
						<button type="object" name="action_open_budget_entries" string="Entries..." icon="fa-arrow-circle-o-right"/>
						<field name="is_above_budget" invisible="1"/>
						</tree>
				</xpath> -->

				<xpath expr="//notebook/page[1]" position="attributes">
					<attribute name="invisible">1</attribute>
				</xpath>


				<notebook position="inside">
					<page string="Revenues Budget">
						<field name="revenues_line_ids" context="{'default_date_from': date_from,'default_date_to': date_to}" colspan="4" nolabel="1" attrs="{'readonly':[('state','!=','draft')]}">
						<tree string="Budget Lines" decoration-success="is_above_budget and planned_amount &gt; 0" decoration-danger="is_above_budget and planned_amount &lt; 0" editable="bottom" limit="500">
							<field name="general_budget_id" string="Budget Item Details" required="1" domain="[('id','=',-5)]"/>
							<field name="analytic_account_id" string="Budget Item" required="1"/>
							<field name="date_from"/>
							<field name="date_to"/>
							<field name="currency_id" invisible="1"/>
							<field name="planned_amount" sum="Amount" string="Estimated Revenue"/>

							<!-- <field name="addition_value" sum="Addition" readonly="0"/> -->
							<!-- <field name="withdraw_value" sum="Withdraw" /> -->
							<!-- <field name="approved_value" sum="Approved" readonly="1"/> -->
							<!-- <field name="reserved_value" sum="Reserved" readonly="1"/> -->
							<field name="practical_amount" sum="Actual Revenues" string="Actual Revenues" readonly="1"/>
							<field name="remaining_value" sum="Remaining" string="Deviation" readonly="1"/>
							
							<button type="object" name="action_open_budget_entries" string="Entries..." icon="fa-arrow-circle-o-right"/>
							<field name="is_above_budget" invisible="1"/>
						</tree>
						</field>
					</page>
					<page string="Expenses Budget">
						<field name="expenses_line_ids" context="{'default_date_from': date_from,'default_date_to': date_to}" colspan="4" nolabel="1" attrs="{'readonly':[('state','!=','draft')]}">
						<tree string="Budget Lines" decoration-success="is_above_budget and planned_amount &gt; 0" decoration-danger="is_above_budget and planned_amount &lt; 0" editable="bottom" limit="500">
							<field name="general_budget_id" string="Budget Item Details" required="1" domain="[('id','=',-5)]"/>
							<field name="analytic_account_id" string="Budget Item" required="1"/>
							<field name="date_from"/>
							<field name="date_to"/>
							<field name="currency_id" invisible="1"/>
							<field name="planned_amount" sum="Estimated Expenses" string="Estimated Expenses"/>
							<field name="addition_value" sum="Addition" />
							<field name="withdraw_value" sum="Withdraw" />
							<field name="approved_value" sum="Approved" readonly="1"/>
							<field name="reserved_value" sum="Reserved" readonly="1" string="Under Execution Amount"/>
							<field name="practical_amount" sum="Actual Expense" string="Actual Expense" readonly="1"/>
							<field name="remaining_value" sum="Remaining" readonly="1"/>
							
							<button type="object" name="action_open_budget_entries" string="Entries..." icon="fa-arrow-circle-o-right"/>
							<field name="is_above_budget" invisible="1"/>
						</tree>
						</field>
					</page>
				

				</notebook>

			</field>
		</record>
		






	</data>
</odoo>
