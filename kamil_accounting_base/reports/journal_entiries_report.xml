<?xml version="1.0" encoding="utf-8" ?>
<odoo>


	<report 
		id="journal_entiries_report"
		model="account.move"
		string="Journal Enteries Report"
		report_type="qweb-html"
		name="kamil_accounting_base.journal_entiries_template"
	/>

	<template id="journal_entiries_template">
		<t t-call="web.html_container">
			<t t-foreach="docs" t-as="o">
				<t t-call="web.external_layout">
					<div class="page" style="font-size:x-large;">


						<div dir="rtl" style="float:right;text-align:start;">
							<a href="#" target="_blank">
								<svg width="2em" height="2em" viewBox="0 0 16 16" class="bi bi-printer" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
									<path d="M11 2H5a1 1 0 0 0-1 1v2H3V3a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2h-1V3a1 1 0 0 0-1-1zm3 4H2a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h1v1H2a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1z"/>
									<path fill-rule="evenodd" d="M11 9H5a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1zM5 8a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H5z"/>
									<path d="M3 7.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"/>
								</svg>
							</a>
						</div>
						<br/><br/>
							
						<div class="text-center">
                        	<strong>
								<b>
								تقرير القيود
								</b>
							</strong>
							<br/>

							<p class="text-right">

								<strong style="float:right">التاريخ </strong>
								<span style="float:right;margin-right:20px" t-esc="o.date"></span>
								<br/>
								<strong style="float:right"> رقم القيد </strong>
								<span style="float:right;margin-right:20px" t-esc="o.name"></span>
							</p>
						</div>
						<div>
							<t t-if="o.line_ids">

								<table dir="rtl" border="1" class="text-right  table-bordered" style="float:right;text-align:start;">
									<thead>
										<tr style="page-break-inside: avoid;" class="table-active">
											<td class="text-center fit" style="font:300; white-space: nowrap;width: 1%; padding:5px;"> الرقم </td>
											<td class="text-center fit" style="font:300; white-space: nowrap;width: 1%; padding:5px;"> مدين </td>
											<td class="text-center fit" style="font:300; white-space: nowrap;width: 1%; padding:5px;"> دائن </td>
											<td class="text-center fit" style="font:300; white-space: nowrap;width: 1%; padding:5px;"> الحساب </td>
											<td class="text-center fit" style="font:300; white-space: nowrap;width: 1%; padding:5px;"> البند </td>
											<td class="text-center fit" style="font:300; white-space: nowrap;width: 1%; padding:5px;"> الجهة </td>
											<td class="text-center fit" style="font:300; white-space: nowrap;width: 1%; padding:5px;"> البيان </td>
										</tr>
									</thead>
									<tbody>

										<t t-set="total_credit" t-value="0"/>
										<t t-set="total_debit" t-value="0"/>

										<t t-foreach="o.line_ids" t-as="line">
											<tr style="page-break-inside: avoid;">
												<td style="font:300; white-space: nowrap;width: 1%; padding:5px;">
													<t t-esc="o_index + 1"/>
												</td>
												
												<td style="font:300; white-space: nowrap;width: 1%; padding:5px;">
													<t t-esc="'{0:,.2f}'.format(float(line.debit))"/>
												
													<t t-set="total_debit" t-value="total_debit + line.debit "/>
												</td>
												<td style="font:300; white-space: nowrap;width: 1%; padding:5px;">
													<t t-esc="'{0:,.2f}'.format(float(line.credit))"/>

													<t t-set="total_credit" t-value="total_credit + line.credit "/>
												</td>

												
												<td style="font:300; white-space: nowrap;width: 1%; padding:5px;">
													<t t-esc="line.account_id.name"/>
												</td>
												

												<td style="font:300; white-space: nowrap;width: 1%; padding:5px;">
													<t t-esc="line.analytic_account_id.name"/>
												</td>

												<td style="font:300; white-space: nowrap;width: 1%; padding:5px;">
													<t t-esc="line.partner_id.name"/>
												</td>

												<td style="font:300; white-space: nowrap;width: 1%; padding:5px;">
													<t t-esc="line.name"/>
												</td>
											</tr>
										</t>
										<tr style="page-break-inside: avoid;">

											<td></td>
											
											<td style="font:300; white-space: nowrap;width: 1%; padding:5px;" class="text-center">
												<b>
												<t t-esc="'{0:,.2f}'.format(float(total_debit))"/>
												</b>
											</td>	
										
											<td style="font:300; white-space: nowrap;width: 1%; padding:5px;" class="text-center">
												<b>
													<t t-esc="'{0:,.2f}'.format(float(total_credit))"/>
												</b>				
											</td>
											<td style="font:300; white-space: nowrap;width: 1%; padding:5px;" class="text-center" colspan="4">
												<b>
													الجملة 
												</b>
											</td>
										</tr>
									</tbody>
								</table>
							</t>
						</div>

						<br/><br/>
						<p class="text-right">

							<strong style="float:right"> <t t-esc="o.amount_in_words"/> </strong>
							<br/>
							

							<strong style="float:right">عبارة عن: </strong>
							<span style="float:right;margin-right:20px" t-esc="o.ref"></span>
						</p>
						<br/><br/>

						<table border="0" class="text-right table borderless">
							<tr>

								<td>
									<span t-esc="context_timestamp(datetime.datetime.now()).strftime(' %H:%M   %d-%m-%Y')"/>   
								</td>

								<td>
									<strong style="float:right">إعداد </strong>
									<span style="float:right;margin-right:20px" t-esc="o.create_uid.name"></span>
								</td>
								
							</tr>
						
							<tr>

								<td>
									<strong style="float:right"> توقيع ثاني </strong>
									<span style="float:right;margin-right:20px">
										................................................................................
									</span>
								</td>

								<td>
									<strong style="float:right"> توقيع اول </strong>
									<span style="float:right;margin-right:20px">
										................................................................................
									</span>
								</td>
								
							</tr>
						</table>


					</div>
				</t>
			</t>
		</t>
	</template>

</odoo>
				