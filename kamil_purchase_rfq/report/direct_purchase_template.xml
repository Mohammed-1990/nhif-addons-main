<odoo>
    <report id="direct_purchase_report"
            model="direct.purchase.wizard"
            string="Report Direct Purchase"
            report_type="qweb-html"
            name="kamil_purchase_rfq.directp_report_view"
            menu="False"/>

    <template id="directp_report_view">
            <t t-call="web.html_container">
            <t t-call="web.external_layout">
                <br/>
                 <div class="text-center" style="font:500;">
                    <strong>الصندوق القومي للتامين الصحي
                    <br/>
                        قسم المشتريات
                        <br/>
                    تقرير الشراء المباشر</strong>
                     <br/>
                     <p>
                         في الفترة من <span t-esc="date_from"/> الي<span t-esc="date_to"/>
                     </p>
                </div>
                <br/>
                <br/>
                <div class="page">
                    <table style="margin:10px;width:100%;" dir="rtl" class="table-bordered">
                          <thead style="display: table-header-group;">
                                <th class="text-center fit">#</th>
                                <th class="text-center fit">تاريخ الطلب</th>
                                <th class="text-center fit">الطلب</th>
                                <th class="text-center fit">المسؤول</th>
                                <th class="text-center fit">رقم الفاتورة</th>
                                <th class="text-center fit">تاريخ الفاتورة</th>
                                <th class="text-center fit">المورد</th>
                                <th class="text-center fit">المنتجات</th>
                                <th class="text-center fit">الكمية</th>
                                <th class="text-center fit">الضرائب</th>
                                <th class="text-center fit">إجمالي المبلغ</th>
                          </thead>
                        <t t-set="count" t-value="1"/>
                            <t t-foreach="docs" t-as="doc">
                                <tr style="page-break-inside: avoid;">
                                    <td class="text-center" heidht="5">
                                        <span t-esc="count"/>
                                    </td>

                                    <td class="text-center">
                                        <span t-esc="doc['date']"/>
                                    </td>

                                    <td class="text-center">
                                        <span t-esc="doc['name']"/>
                                    </td>

                                    <td class="text-center">
                                        <span t-esc="doc['user']"/>
                                    </td>

                                    <td class="text-center">
                                        <span t-esc="doc['invoice_no']"/>
                                    </td>

                                    <td class="text-center">
                                        <span t-esc="doc['invoice_date']"/>
                                    </td>

                                    <td class="text-center">
                                        <span t-esc="doc['supplier']"/>
                                    </td>

                                    <td class="text-center">
                                        <span t-esc="doc['product']"/>
                                    </td>

                                    <td class="text-center">
                                        <span t-esc="doc['product_qty']"/>
                                    </td>

                                    <td class="text-center">
                                        <span t-esc="doc['taxes']"/>
                                    </td>

                                    <td class="text-center">
                                        <span t-esc="doc['total']"/>
                                    </td>
                                </tr>
                            <t t-set="count" t-value="count+1"/>
                            </t>
                    </table>
                    <table style="margin:10px;width:100%;" dir="rtl" class="table-bordered">
                        <tr>
                            <td class="text-center">
                                المجموع
                            </td>
                            <td class="text-center">
                                <span t-esc="'{0:,.2f}'.format(float( sum([doc['total'] for doc in docs]) ))"/>
                            </td>
                        </tr>
                    </table>
                </div>
            </t>
            </t>
    </template>

</odoo>