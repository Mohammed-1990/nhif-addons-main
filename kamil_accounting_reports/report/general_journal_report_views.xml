<?xml version="1.0" encoding="utf-8" ?>
<odoo>
	
	<!-- general joural Report-->
	<report 
		id="general_journal_report"
		model="wiz.general.journal"
		string="General Journal Report"
		report_type="qweb-html"
		name="kamil_accounting_reports.general_journal_template"
		paperformat="kamil_accounting_reports.paperformat_a3_landscape"

	/>


	<!--General Journal Report Template-->
	<template id="general_journal_template">
			<t t-call="web.html_container">
                <div class="page">
					<div class="text-center">
					<img t-if="company_id_logo" t-att-src="image_data_uri(company_id_logo)" class="img-fluid oe_slides_channel_thumbnail" alt="Logo"/>
				</div>
				<br/><br/>
					<div dir="rtl" style="float:right;text-align:start;">
						<a href="#" target="_blank">
							<svg width="2em" height="2em" viewBox="0 0 16 16" class="bi bi-printer" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
								<path d="M11 2H5a1 1 0 0 0-1 1v2H3V3a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2h-1V3a1 1 0 0 0-1-1zm3 4H2a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h1v1H2a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1z"/>
								<path fill-rule="evenodd" d="M11 9H5a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1zM5 8a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H5z"/>
								<path d="M3 7.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"/>
							</svg>
						</a>
					</div>
					<br/><br/>
					<div class="text-center">

						<strong class="text-center">
							<b>تقرير اليومية العامة</b>
							<br/>
							<b>

							للفترة من
							<t t-esc="date_from"/>
							الى
							<t t-esc="date_to"/>

							</b>
						</strong>

						<br/><br/>
					</div>
	   				<table style="margin:10px;width:100%;" dir="rtl" class="table-bordered">
                        <thead class="table-active" style="display: table-header-group">
                            <tr style="page-break-inside: avoid;" class="table-active" >
                                <td class="text-center" rowspan="2">
									الرقم
								</td>
                                <td class="text-center" rowspan="2" style="font:300; white-space: nowrap;width: 1%; padding:5px;">
									التاريخ
								</td>
                                <td class="text-center fit" rowspan="2">
									البيان
								</td>
                                <td class="text-center fit" rowspan="2">
									رقم المستند
								</td>
                                <t t-foreach="group_accounts" t-as="account">
                                    <td class="text-center fit" colspan="2">
                                        <t t-esc="account.name" />
                                    </td>
                                </t>
                                <td class="text-center fit" colspan="2">
									الاجمالي
								</td>
                            </tr>
                            <tr>
                                <t t-foreach="group_accounts" t-as="account">
                                    <td class="text-center fit">
										مدين
									</td>
                                    <td class="text-center fit">
										دائن
									</td>
                                </t>
                                <td class="text-center fit">
									مدين
								</td>
                                <td class="text-center fit">
									دائن
								</td>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="docs" t-as="doc">
                                <tr style="page-break-inside: avoid;">
                                    <td class="text-center fit">
                                        <t t-esc="doc['count']" />
                                    </td>
                                    <td class="text-center" style="font:300; white-space: nowrap;width: 1%; padding:5px;">
                                        <t t-esc="doc['date']" />
                                    </td>
                                    <td class="text-center fit">
                                        <t t-esc="doc['ref']" />
                                    </td>
                                    <td class="text-right fit">
                                        <t t-esc="doc['document_number']" />
                                    </td>
                                    <t t-foreach="doc['move_data']" t-as="data">
                                    	<td class="text-center fit">
                                    		<t t-esc="'{:,.2f}'.format( data['debit'] )"/>
                                    	</td>
                                    	<td class="text-center fit">
                                            <t t-esc="'{:,.2f}'.format( data['credit'] )"/>
                                    	</td>
                                    </t>
                                </tr>
                            </t>
                <tr class="table-active">
                    <td class="text-center" colspan="4">
                    	<strong>
							الاجمالي
						</strong>
					</td>
					<t t-foreach="total_cols" t-as="data">
						<td class="text-center"> 
							<t t-esc="'{:,.2f}'.format( data['debit'] )"/>
						</td>	
						 <td class="text-center">
							<t t-esc="'{:,.2f}'.format( data['credit'] )"/>
						</td>	
					</t>
                </tr>
            </tbody>
        </table>
                   

                </div>
			</t>
	</template>


</odoo>