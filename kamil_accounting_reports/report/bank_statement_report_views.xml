<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<!-- Payment Report -->
	<report id="bank_statement_report" model="wizard.payment.report" string="Payment Report" report_type="qweb-html" name="kamil_accounting_reports.bank_statement_template" />
	<!-- Bank Statement Template -->
	<template id="bank_statement_template">
		<t t-call="web.html_container">
				<div class="page">
					<div class="text-center">
					<img t-if="company_id_logo" t-att-src="image_data_uri(company_id_logo)" class="img-fluid oe_slides_channel_thumbnail" alt="Logo"/>
				</div>
				<br/><br/>
					<div dir="rtl" style="float:right;text-align:start;">
						<a href="#" target="_blank">
							<svg width="2em" height="2em" viewBox="0 0 16 16" class="bi bi-printer" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
								<path d="M11 2H5a1 1 0 0 0-1 1v2H3V3a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2h-1V3a1 1 0 0 0-1-1zm3 4H2a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h1v1H2a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1z" />
								<path fill-rule="evenodd" d="M11 9H5a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1zM5 8a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H5z" />
								<path d="M3 7.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z" />
							</svg>
						</a>
					</div>
					<br />
					<div class="text-center" style="font:900;">
						<strong>
							<p>
								<b>
									كشف حساب البنك
									<t t-if="date_from">
										للفترة من
										<t t-esc="date_from" />
									</t>
									<t t-if="date_to">
										الى
										<t t-esc="date_to" />
									</t>
									<br />
									<t t-esc="bank_name" />
								</b>
							</p>
						</strong>
					</div>
					<div class="text-center" style="font:900;">
						<strong>
							<p>
								<b>
									<p class="text-right">
										<strong style="float:right">
											الرصيد الافتتاحي
										</strong>
										<span style="float:right;margin-right:20px">
											<t t-esc="'{0:,.2f}'.format(float(opening_balance))" />
										</span>
									</p>
								</b>
							</p>
						</strong>
					</div>
					<table style="margin:10px;width:100%;" dir="rtl" class="table-bordered">
						<thead style="display: table-header-group;">
							<tr class="table-active">
								<td class="text-center fit">
									الرقم
								</td>
								<td class="text-center fit">
									التاريخ
								</td>
								<td class="text-center fit">
									نوع المستند
								</td>
								<td class="text-center fit">
									رقم المستند
								</td>
								<td class="text-center fit">
									مدين
								</td>
								<td class="text-center fit">
									دائن
								</td>
								<td class="text-center fit">
									المدفوع له
								</td>
								<td class="text-center fit">
									البيان
								</td>
							</tr>
						</thead>
						<tbody>
							<t t-foreach="docs" t-as="doc">
								<tr style="page-break-inside: avoid;">
									<td class="text-center fit">
										<t t-esc="doc_index + 1" />
									</td>
									<td class="text-right fit">
										<t t-esc="doc['date']" />
									</td>
									<td class="text-right fit">
										<t t-esc="doc['doc_type']" />
									</td>
									<td class="text-right fit">
										<t t-esc="doc['document_number']" />
									</td>
									<td class="text-right fit">
										<t t-esc="'{0:,.2f}'.format(float(doc['debit']))" />
									</td>
									<td class="text-right fit">
										<t t-esc="'{0:,.2f}'.format(float(doc['credit']))" />
									</td>
									<td class="text-right fit">
										<t t-esc="doc['partner']" />
									</td>
									<td class="text-right">
										<t t-esc="doc['description']" />
									</td>
								</tr>
							</t>
							<tr class="table-active text-center">
								<td colspan="4">
									<strong>
										الإجمالي
									</strong>
								</td>
								<td class="text-center fit">
									<t t-esc="'{0:,.2f}'.format(float(sum([p['debit'] for p in docs])))" />
								</td>
								<td class="text-center fit">
									<t t-esc="'{0:,.2f}'.format(float(sum([p['credit'] for p in docs])))" />
								</td>
								<td class="text-center fit">
								</td>
								<td class="text-center fit">
								</td>
							</tr>
							<tr class="table-active">
								<td colspan="4" class="text-center fit">
									<b>
										الرصيد الحالي
									</b>
								</td>
								<td colspan="7" class="text-center fit">
									<b>
										<t t-esc="'{0:,.2f}'.format(float(balance) )" />
									</b>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</t>
	</template>
</odoo>
